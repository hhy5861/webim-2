<!DOCTYPE html>
<html>
<head>
    <title>sensor 历史数据</title>

    <link href="/static/easyui/themes/default/easyui.css" rel="stylesheet" type="text/css"/>
    <link href="/static/easyui/themes/icon.css" rel="stylesheet" type="text/css"/>

    <script type="text/javascript" src="/static/js/jquery-1.8.3.min.js"></script>

    <script type="text/javascript" src="/static/easyui/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="/static/easyui/window.js"></script>
    <script type="text/javascript" src="/static/easyui/locale/easyui-lang-zh_CN.js"></script>

</head>

<body>

<table id='sensorgrid'>
</table>

<div id="sensortool">
    <input id="ss" class="easyui-searchbox" style="width:300px"
           data-options="searcher:searchsensor,prompt:'搜索cid',menu:'#mm'"/>

    <div id="mm" style="width:120px">
        <div data-options="name:'all'">所有</div>
        <div data-options="name:'井盖'">井盖</div>
        <div data-options="name:'甲烷'">甲烷</div>
        <div data-options="name:'边坡'">边坡</div>
    </div>

</div>


<script type="text/javascript">
    function searchsensor(value, name) {

        $('#sensorgrid').datagrid('load', {
            id: value,
            ty: name
        });

    }

    $('#sensorgrid').datagrid({
        url: '/sensorlist',
        singleSelect: true,
        rownumbers: true,
        pagination: true,
        pagePosition: 'top',
        fitColumns: true,
        fit: true,
        pageSize: 20,
        columns: [
            [
                {field: 'id', width: 50, title: 'ID'},
                {field: 'ty', width: 50, title: '类型'},
                {field: 'cid', width: 50, title: '传感器cid'},
                {field: 'state', width: 50, title: '传感器状态'},
                {field: 'value', width: 100, title: '传感器值'},
                {field: 'x', width: 100, title: '传感器x值'},
                {field: 'y', width: 100, title: '传感器y值'},
                {field: 'bjtime', width: 150, title: '接收时间'},
                {field: 'bjstate', width: 50, title: '是否报警'},
                {field: 'cidtrue', width: 50, title: '传感器id是否存在'}
            ]
        ],
        toolbar: '#sensortool'
    });


</script>
</body>
</html>